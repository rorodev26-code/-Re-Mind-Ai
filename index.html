<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIND MATE AI - Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø§Ù„Ø°ÙƒÙŠØ©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r121/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.net.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        body { font-family: 'Cairo', sans-serif; background-color: #0b141a; color: white; margin: 0; overflow: hidden; }
        #vanta-canvas { position: fixed; width: 100%; height: 100%; z-index: -1; }
        .app-container { height: 100vh; display: flex; flex-direction: column; background: rgba(11, 20, 26, 0.8); }
        .tab-content { flex: 1; overflow-y: auto; display: none; padding: 20px; padding-bottom: 80px; }
        .tab-content.active { display: block; animation: fadeIn 0.4s ease; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        /* ØªØµÙ…ÙŠÙ… Ø§Ù„Ù€ Chat */
        .msg-ai { background: #ffffff; color: #1a1a1a; align-self: flex-start; border-radius: 0 18px 18px 18px; padding: 12px; max-width: 85%; margin-bottom: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.3); }
        .msg-user { background: #056162; color: white; align-self: flex-end; border-radius: 18px 0 18px 18px; padding: 12px; max-width: 85%; margin-bottom: 10px; }
        
        /* Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³ÙÙ„ÙŠØ© */
        .bottom-nav { position: fixed; bottom: 0; width: 100%; background: #202c33; display: flex; justify-content: space-around; padding: 12px; border-top: 1px solid #313d45; }
        .nav-item { text-align: center; color: #8696a0; font-size: 12px; transition: 0.3s; }
        .nav-item.active { color: #2dd4bf; }
        
        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .card { background: #2a3942; border-radius: 15px; padding: 15px; margin-bottom: 15px; border: 1px solid #313d45; }
    </style>
</head>
<body>

    <div id="vanta-canvas"></div>

    <div class="app-container">
        <div class="p-4 bg-[#202c33] flex items-center justify-between shadow-md">
            <div class="flex items-center gap-3">
                <div class="w-10 h-10 bg-teal-500 rounded-full flex items-center justify-center font-bold text-white">M</div>
                <h1 class="text-lg font-bold">Mind Mate <span class="text-teal-400 text-xs">V2.0</span></h1>
            </div>
            <i class="fas fa-graduation-cap text-teal-400"></i>
        </div>

        <div id="ai-chat" class="tab-content active flex flex-col h-full">
            <div id="chat-box" class="flex flex-col flex-1 overflow-y-auto pb-4">
                <div class="msg-ai">Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ! Ø£Ù†Ø§ Ù…Ø³Ø§Ø¹Ø¯Ùƒ Ø§Ù„Ø°ÙƒÙŠ. Ø§Ø·Ù„Ø¨ Ù…Ù†ÙŠ Ø´Ø±Ø­ Ø£ÙŠ Ø¯Ø±Ø³ Ø£Ùˆ ØªÙ„Ø®ÙŠØµ ÙØµÙ„ Ù…Ù† ÙƒØªØ¨ Ø§Ù„ÙˆØ²Ø§Ø±Ø©.</div>
            </div>
            <div class="flex gap-2 p-2 bg-[#2a3942] rounded-xl mb-4">
                <input type="text" id="user-input" class="flex-1 bg-transparent outline-none p-2 text-white" placeholder="Ø§Ø³Ø£Ù„ Ø¹Ù† Ø£ÙŠ Ø´ÙŠØ¡ ÙÙŠ Ø§Ù„Ù…Ù†Ù‡Ø¬...">
                <button onclick="sendMessage()" class="bg-teal-500 p-3 rounded-xl"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>

        <div id="library" class="tab-content">
            <h2 class="text-xl font-bold mb-4">ğŸ“š Ù…ÙƒØªØ¨Ø© Ø§Ù„ÙˆØ²Ø§Ø±Ø© ÙˆØ§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©</h2>
            <div class="card">
                <h3 class="font-bold">ÙƒØªØ§Ø¨ Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© - 2026</h3>
                <p class="text-sm text-gray-400">ÙˆØ²Ø§Ø±Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…</p>
                <button class="mt-3 bg-teal-600 px-4 py-2 rounded-lg text-sm">ØªØ­Ù…ÙŠÙ„ PDF</button>
            </div>
            <div class="card">
                <h3 class="font-bold">ÙƒØªØ§Ø¨ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ - Ù„ØºØ§Øª</h3>
                <p class="text-sm text-gray-400">Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ø¹Ø§ØµØ± Ø§Ù„Ù…Ø®ØªØµØ±Ø©</p>
                <button class="mt-3 bg-teal-600 px-4 py-2 rounded-lg text-sm">ØªØµÙØ­ Ø§Ù„Ø¢Ù†</button>
            </div>
        </div>

        <div id="exams" class="tab-content">
            <h2 class="text-xl font-bold mb-4">âœï¸ Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ØªÙØ§Ø¹Ù„ÙŠØ©</h2>
            <div class="card">
                <div class="flex justify-between">
                    <span>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙˆØ­Ø¯Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ - ÙÙŠØ²ÙŠØ§Ø¡</span>
                    <span class="text-teal-400">10 Ø£Ø³Ø¦Ù„Ø©</span>
                </div>
                <button onclick="alert('Ø³ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¢Ù†!')" class="mt-3 w-full bg-teal-500 py-2 rounded-lg">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ­Ø¯ÙŠ</button>
            </div>
        </div>

        <nav class="bottom-nav">
            <div class="nav-item active" onclick="showTab('ai-chat', this)"><i class="fas fa-robot text-xl"></i><div>Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</div></div>
            <div class="nav-item" onclick="showTab('library', this)"><i class="fas fa-book text-xl"></i><div>Ø§Ù„Ù…ÙƒØªØ¨Ø©</div></div>
            <div class="nav-item" onclick="showTab('exams', this)"><i class="fas fa-edit text-xl"></i><div>Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª</div></div>
        </nav>
    </div>

    <script>
        // ØªØ£Ø«ÙŠØ± Ø§Ù„Ø®Ù„ÙÙŠØ©
        VANTA.NET({
            el: "#vanta-canvas",
            mouseControls: true, touchControls: true,
            minHeight: 200.0, minWidth: 200.0,
            scale: 1.0, scaleMobile: 1.0,
            color: 0x2dd4bf, backgroundColor: 0x0b141a
        });

        // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        function showTab(tabId, el) {
            document.querySelectorAll('.tab-content').forEach(t => t.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
            el.classList.add('active');
        }

        // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ (Gemini API)
        const API_KEY = "Ø¶Ø¹ÙŠ_Ù…ÙØªØ§Ø­Ùƒ_Ù‡Ù†Ø§"; 

        async function sendMessage() {
            const input = document.getElementById('user-input');
            const userText = input.value.trim();
            if (!userText) return;

            appendMessage(userText, 'msg-user');
            input.value = "";
            const typingMsg = appendMessage("Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙÙƒÙŠØ± ÙÙŠ Ø§Ù„Ù…Ù†Ù‡Ø¬...", 'msg-ai');

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `Ø£Ù†Øª Ù…Ø³Ø§Ø¹Ø¯ Ø¯Ø±Ø§Ø³ÙŠ Ù…ØµØ±ÙŠ Ø§Ø³Ù…Ùƒ Mind Mate. Ù‚Ø¯Ù… Ù„Ù„Ø·Ø§Ù„Ø¨ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯Ù‚ÙŠÙ‚Ø© Ù…Ù† Ø§Ù„Ù…Ù†Ù‡Ø¬ Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠ Ø¨Ø£Ø³Ù„ÙˆØ¨ Ø´ÙŠÙ‚. Ø§Ù„Ø³Ø¤Ø§Ù„: ${userText}` }] }]
                    })
                });
                const data = await response.json();
                const aiResponse = data.candidates[0].content.parts[0].text;
                typingMsg.innerHTML = aiResponse.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<b>$1</b>');
            } catch (e) {
                typingMsg.innerText = "Ø£Ù†Ø§ Ø¬Ø§Ù‡Ø² Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©ØŒ ØªØ£ÙƒØ¯ ÙÙ‚Ø· Ù…Ù† Ø±Ø¨Ø· Ø§Ù„Ù€ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ!";
            }
        }

        function appendMessage(text, className) {
            const chatBox = document.getElementById('chat-box');
            const msgDiv = document.createElement('div');
            msgDiv.className = className;
            msgDiv.innerHTML = text;
            chatBox.appendChild(msgDiv);
            chatBox.scrollTop = chatBox.scrollHeight;
            return msgDiv;
        }
    </script>
</body>
</html>
